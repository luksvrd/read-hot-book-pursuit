{"version":3,"sources":["utils/auth.js","utils/mutations.js","components/SignupForm.js","components/LoginForm.js","components/Navbar.js","utils/localStorage.js","utils/queries.js","pages/SavedBooks.js","pages/SearchBooks.js","utils/API.js","App.js","index.js"],"names":["auth","AuthService","_classCallCheck","_createClass","key","value","decode","this","getToken","token","isTokenExpired","exp","Date","now","err","localStorage","getItem","idToken","setItem","window","location","assign","removeItem","LOGIN_USER","gql","_templateObject","_taggedTemplateLiteral","ADD_USER","_templateObject2","SAVE_BOOK","_templateObject3","REMOVE_BOOK","_templateObject4","SignupForm","_useState","useState","username","email","password","_useState2","_slicedToArray","userFormData","setUserFormData","_useState3","validated","_useState5","_useState6","showAlert","setShowAlert","addUser","useMutation","handleInputChange","event","_event$target","target","name","_objectSpread","_defineProperty","handleFormSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$addUser","data","wrap","_context","prev","next","preventDefault","currentTarget","checkValidity","stopPropagation","variables","sent","Auth","login","t0","console","error","stop","_x","apply","arguments","_jsx","_Fragment","children","_jsxs","Form","noValidate","onSubmit","Alert","dismissible","onClose","show","variant","Group","className","Label","htmlFor","Control","type","placeholder","onChange","required","Feedback","Button","disabled","LoginForm","_useMutation","_yield$login","AppNavbar","showModal","setShowModal","Navbar","bg","expand","Container","fluid","Brand","as","Link","to","Toggle","Collapse","id","Nav","loggedIn","onClick","logout","Modal","size","onHide","Tab","defaultActiveKey","Header","closeButton","Title","Item","eventKey","Body","Content","Pane","handleModalClose","SignUpForm","removeBookId","bookId","savedBookIds","JSON","parse","updatedSavedBookIds","filter","savedBookId","stringify","Query_GET_ME","SavedBooks","_useQuery","useQuery","laoding","removeBook","userData","me","handleDeleteBook","_yield$removeBook","abrupt","Jumbotron","savedBooks","length","concat","CardColumns","map","book","Card","border","image","Img","src","alt","title","authors","Text","description","SearchBooks","searchedBooks","setSearchedBooks","_useState4","searchInput","setSearchInput","setSavedBookIds","saveBook","useEffect","bookIdArr","response","_yield$response$json","items","bookData","fetch","ok","Error","json","_book$volumeInfo$imag","volumeInfo","imageLinks","thumbnail","handleSaveBook","_ref2","_callee2","bookToSave","_context2","find","_toConsumableArray","_x2","Row","Col","xs","md","e","some","httpLink","createHttpLink","uri","auhtlink","setContext","_","headers","authorization","client","ApolloClient","link","cache","InMemoryCache","App","ApolloProvider","Router","Routes","Route","path","element","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.53d0dca6.chunk.js","sourcesContent":["// use this to decode a token and get the user's information out of it\nimport decode from \"jwt-decode\";\n\n// create a new class to instantiate for a user\nclass AuthService {\n  // get user data\n  getProfile() {\n    return decode(this.getToken());\n  }\n\n  // check if user's logged in\n  loggedIn() {\n    // Checks if there is a saved token and it's still valid\n    const token = this.getToken();\n    return !!token && !this.isTokenExpired(token); // handwaiving here\n  }\n\n  // check if token is expired\n  isTokenExpired(token) {\n    try {\n      const decoded = decode(token);\n      if (decoded.exp < Date.now() / 1000) {\n        return true;\n      } else return false;\n    } catch (err) {\n      return false;\n    }\n  }\n\n  getToken() {\n    // Retrieves the user token from localStorage\n    return localStorage.getItem(\"id_token\");\n  }\n\n  login(idToken) {\n    // Saves user token to localStorage\n    localStorage.setItem(\"id_token\", idToken);\n    window.location.assign(\"/\");\n  }\n\n  logout() {\n    // Clear user token and profile data from localStorage\n    localStorage.removeItem(\"id_token\");\n    // this will reload the page and reset the state of the application\n    window.location.assign(\"/\");\n  }\n}\nlet auth = new AuthService();\n\nexport default auth;\n","import { gql } from \"@apollo/client\";\n\nexport const LOGIN_USER = gql`\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n        email\n      }\n    }\n  }\n`;\n\nexport const ADD_USER = gql`\n  mutation addUser($username: String!, $email: String!, $password: String!) {\n    addUser(username: $username, email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n        email\n      }\n    }\n  }\n`;\n\nexport const SAVE_BOOK = gql`\n  mutation saveBook($book: BookInput!) {\n    saveBook(book: $book) {\n      username\n      email\n      bookCount\n      savedBooks {\n        authors\n        description\n        bookId\n        image\n        link\n        title\n      }\n    }\n  }\n`;\n\nexport const REMOVE_BOOK = gql`\n  mutation removeBook($bookId: String!) {\n    removeBook(bookId: $bookId) {\n      username\n      email\n      bookCount\n      savedBooks {\n        authors\n        description\n        bookId\n        image\n        link\n        title\n      }\n    }\n  }\n`;\n","import React, { useState } from \"react\";\nimport { Form, Button, Alert } from \"react-bootstrap\";\n\nimport Auth from \"../utils/auth\";\nimport { useMutation } from \"@apollo/client\";\nimport { ADD_USER } from \"../utils/mutations\";\n\nconst SignupForm = () => {\n  // set initial form state\n  const [userFormData, setUserFormData] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n  });\n  // set state for form validation\n  const [validated] = useState(false);\n  // set state for alert\n  const [showAlert, setShowAlert] = useState(false);\n\n  const { addUser } = useMutation(ADD_USER);\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setUserFormData({ ...userFormData, [name]: value });\n  };\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    // check if form has everything (as per react-bootstrap docs)\n    const form = event.currentTarget;\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    try {\n      const { data } = await addUser({\n        variables: { ...userFormData },\n      });\n      Auth.login(data.addUser.token);\n    } catch (err) {\n      console.error(err);\n      setShowAlert(true);\n    }\n\n    setUserFormData({\n      username: \"\",\n      email: \"\",\n      password: \"\",\n    });\n  };\n\n  return (\n    <>\n      {/* This is needed for the validation functionality above */}\n      <Form noValidate validated={validated} onSubmit={handleFormSubmit}>\n        {/* show alert if server response is bad */}\n        <Alert\n          dismissible\n          onClose={() => setShowAlert(false)}\n          show={showAlert}\n          variant=\"danger\"\n        >\n          Something went wrong with your signup!\n        </Alert>\n\n        <Form.Group className=\"mb-3\">\n          <Form.Label htmlFor=\"username\">Username</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Your username\"\n            name=\"username\"\n            onChange={handleInputChange}\n            value={userFormData.username}\n            required\n          />\n          <Form.Control.Feedback type=\"invalid\">\n            Username is required!\n          </Form.Control.Feedback>\n        </Form.Group>\n\n        <Form.Group className=\"mb-3\">\n          <Form.Label htmlFor=\"email\">Email</Form.Label>\n          <Form.Control\n            type=\"email\"\n            placeholder=\"Your email address\"\n            name=\"email\"\n            onChange={handleInputChange}\n            value={userFormData.email}\n            required\n          />\n          <Form.Control.Feedback type=\"invalid\">\n            Email is required!\n          </Form.Control.Feedback>\n        </Form.Group>\n\n        <Form.Group className=\"mb-3\">\n          <Form.Label htmlFor=\"password\">Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            placeholder=\"Your password\"\n            name=\"password\"\n            onChange={handleInputChange}\n            value={userFormData.password}\n            required\n          />\n          <Form.Control.Feedback type=\"invalid\">\n            Password is required!\n          </Form.Control.Feedback>\n        </Form.Group>\n        <Button\n          disabled={\n            !(\n              userFormData.username &&\n              userFormData.email &&\n              userFormData.password\n            )\n          }\n          type=\"submit\"\n          variant=\"success\"\n        >\n          Submit\n        </Button>\n      </Form>\n    </>\n  );\n};\n\nexport default SignupForm;\n","// see SignupForm.js for comments\nimport React, { useState } from \"react\";\nimport { Alert, Button, Form } from \"react-bootstrap\";\n\nimport { useMutation } from \"@apollo/client\";\nimport Auth from \"../utils/auth\";\nimport { LOGIN_USER } from \"../utils/mutations\";\n\nconst LoginForm = () => {\n  const [userFormData, setUserFormData] = useState({ email: \"\", password: \"\" });\n  const [validated] = useState(false);\n  const [showAlert, setShowAlert] = useState(false);\n\n  const [login] = useMutation(LOGIN_USER);\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setUserFormData({ ...userFormData, [name]: value });\n  };\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    // check if form has everything (as per react-bootstrap docs)\n    const form = event.currentTarget;\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    try {\n      const { data } = await login({\n        variables: { ...userFormData },\n      });\n      Auth.login(data.login.token);\n    } catch (err) {\n      console.error(err);\n      setShowAlert(true);\n    }\n\n    setUserFormData({\n      username: \"\",\n      email: \"\",\n      password: \"\",\n    });\n  };\n\n  return (\n    <>\n      <Form noValidate validated={validated} onSubmit={handleFormSubmit}>\n        <Alert\n          dismissible\n          onClose={() => setShowAlert(false)}\n          show={showAlert}\n          variant=\"danger\"\n        >\n          Something went wrong with your login credentials!\n        </Alert>\n        <Form.Group className=\"mb-3\">\n          <Form.Label htmlFor=\"email\">Email</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Your email\"\n            name=\"email\"\n            onChange={handleInputChange}\n            value={userFormData.email}\n            required\n          />\n          <Form.Control.Feedback type=\"invalid\">\n            Email is required!\n          </Form.Control.Feedback>\n        </Form.Group>\n\n        <Form.Group className=\"mb-3\">\n          <Form.Label htmlFor=\"password\">Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            placeholder=\"Your password\"\n            name=\"password\"\n            onChange={handleInputChange}\n            value={userFormData.password}\n            required\n          />\n          <Form.Control.Feedback type=\"invalid\">\n            Password is required!\n          </Form.Control.Feedback>\n        </Form.Group>\n        <Button\n          disabled={!(userFormData.email && userFormData.password)}\n          type=\"submit\"\n          variant=\"success\"\n        >\n          Submit\n        </Button>\n      </Form>\n    </>\n  );\n};\n\nexport default LoginForm;\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Navbar, Nav, Container, Modal, Tab } from \"react-bootstrap\";\nimport SignUpForm from \"./SignupForm\";\nimport LoginForm from \"./LoginForm\";\n\nimport Auth from \"../utils/auth\";\n\nconst AppNavbar = () => {\n  // set modal display state\n  const [showModal, setShowModal] = useState(false);\n\n  return (\n    <>\n      <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\">\n        <Container fluid>\n          <Navbar.Brand as={Link} to=\"/\">\n            Google Books Search\n          </Navbar.Brand>\n          <Navbar.Toggle aria-controls=\"navbar\" />\n          <Navbar.Collapse id=\"navbar\" className=\"d-flex flex-row-reverse\">\n            <Nav className=\"ml-auto d-flex\">\n              <Nav.Link as={Link} to=\"/\">\n                Search For Books\n              </Nav.Link>\n              {/* if user is logged in show saved books and logout */}\n              {Auth.loggedIn() ? (\n                <>\n                  <Nav.Link as={Link} to=\"/saved\">\n                    See Your Books\n                  </Nav.Link>\n                  <Nav.Link onClick={Auth.logout}>Logout</Nav.Link>\n                </>\n              ) : (\n                <Nav.Link onClick={() => setShowModal(true)}>\n                  Login/Sign Up\n                </Nav.Link>\n              )}\n            </Nav>\n          </Navbar.Collapse>\n        </Container>\n      </Navbar>\n      {/* set modal data up */}\n      <Modal\n        size=\"lg\"\n        show={showModal}\n        onHide={() => setShowModal(false)}\n        aria-labelledby=\"signup-modal\"\n      >\n        {/* tab container to do either signup or login component */}\n        <Tab.Container defaultActiveKey=\"login\">\n          <Modal.Header closeButton>\n            <Modal.Title id=\"signup-modal\">\n              <Nav variant=\"pills\">\n                <Nav.Item>\n                  <Nav.Link eventKey=\"login\">Login</Nav.Link>\n                </Nav.Item>\n                <Nav.Item>\n                  <Nav.Link eventKey=\"signup\">Sign Up</Nav.Link>\n                </Nav.Item>\n              </Nav>\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <Tab.Content>\n              <Tab.Pane eventKey=\"login\">\n                <LoginForm handleModalClose={() => setShowModal(false)} />\n              </Tab.Pane>\n              <Tab.Pane eventKey=\"signup\">\n                <SignUpForm handleModalClose={() => setShowModal(false)} />\n              </Tab.Pane>\n            </Tab.Content>\n          </Modal.Body>\n        </Tab.Container>\n      </Modal>\n    </>\n  );\n};\n\nexport default AppNavbar;\n","export const getSavedBookIds = () => {\n  const savedBookIds = localStorage.getItem('saved_books')\n    ? JSON.parse(localStorage.getItem('saved_books'))\n    : [];\n\n  return savedBookIds;\n};\n\nexport const saveBookIds = (bookIdArr) => {\n  if (bookIdArr.length) {\n    localStorage.setItem('saved_books', JSON.stringify(bookIdArr));\n  } else {\n    localStorage.removeItem('saved_books');\n  }\n};\n\nexport const removeBookId = (bookId) => {\n  const savedBookIds = localStorage.getItem('saved_books')\n    ? JSON.parse(localStorage.getItem('saved_books'))\n    : null;\n\n  if (!savedBookIds) {\n    return false;\n  }\n\n  const updatedSavedBookIds = savedBookIds?.filter((savedBookId) => savedBookId !== bookId);\n  localStorage.setItem('saved_books', JSON.stringify(updatedSavedBookIds));\n\n  return true;\n};\n","import { gql } from \"@apollo/client\";\n\nexport const Query_GET_ME = gql`\n  query me {\n    me {\n      _id\n      username\n      email\n      bookCount\n      savedBook {\n        authors\n        description\n        bookId\n        image\n        link\n        title\n      }\n    }\n  }\n`;\n","import React from \"react\";\nimport {\n  Button,\n  Card,\n  CardColumns,\n  Container,\n  Jumbotron,\n} from \"react-bootstrap\";\n\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport Auth from \"../utils/auth\";\nimport { removeBookId } from \"../utils/localStorage\";\nimport { REMOVE_BOOK } from \"../utils/mutations\";\nimport { Query_GET_ME } from \"../utils/queries\";\n\nconst SavedBooks = () => {\n  const { laoding, data } = useQuery(Query_GET_ME);\n  const { removeBook } = useMutation(REMOVE_BOOK);\n\n  const userData = data?.me || {};\n\n  const handleDeleteBook = async (bookId) => {\n    const token = Auth.loggedIn() ? Auth.getToken() : null;\n\n    if (!token) {\n      return false;\n    }\n\n    try {\n      const { data } = await removeBook({ variables: { bookId } });\n\n      // if (!response.ok) {\n      //   throw new Error('something went wrong!');\n      // }\n\n      // const updatedUser = await response.json();\n      // setUserData(updatedUser);\n      // upon success, remove book's id from localStorage\n      removeBookId(bookId);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  // if data isn't here yet, say so\n  if (laoding) {\n    return <h2>LOADING...</h2>;\n  }\n\n  return (\n    <>\n      <Jumbotron fluid className=\"text-light bg-dark\">\n        <Container>\n          <h1>Viewing saved books!</h1>\n        </Container>\n      </Jumbotron>\n      <Container>\n        <h2>\n          {userData.savedBooks.length\n            ? `Viewing ${userData.savedBooks.length} saved ${\n                userData.savedBooks.length === 1 ? \"book\" : \"books\"\n              }:`\n            : \"You have no saved books!\"}\n        </h2>\n        <CardColumns>\n          {userData.savedBooks.map((book) => {\n            return (\n              <Card key={book.bookId} border=\"dark\">\n                {book.image ? (\n                  <Card.Img\n                    src={book.image}\n                    alt={`The cover for ${book.title}`}\n                    variant=\"top\"\n                  />\n                ) : null}\n                <Card.Body>\n                  <Card.Title>{book.title}</Card.Title>\n                  <p className=\"small\">Authors: {book.authors}</p>\n                  <Card.Text>{book.description}</Card.Text>\n                  <Button\n                    className=\"btn-block btn-danger\"\n                    onClick={() => handleDeleteBook(book.bookId)}\n                  >\n                    Delete this Book!\n                  </Button>\n                </Card.Body>\n              </Card>\n            );\n          })}\n        </CardColumns>\n      </Container>\n    </>\n  );\n};\n\nexport default SavedBooks;\n","import React, { useEffect, useState } from \"react\";\nimport {\n  Button,\n  Card,\n  CardColumns,\n  Col,\n  Container,\n  Form,\n  Jumbotron,\n} from \"react-bootstrap\";\n\nimport { useMutation } from \"@apollo/client\";\nimport { searchGoogleBooks } from \"../utils/API\";\nimport Auth from \"../utils/auth\";\nimport { getSavedBookIds, saveBookIds } from \"../utils/localStorage\";\nimport { SAVE_BOOK } from \"../utils/mutations\";\n\nconst SearchBooks = () => {\n  // create state for holding returned google api data\n  const [searchedBooks, setSearchedBooks] = useState([]);\n  // create state for holding our search field data\n  const [searchInput, setSearchInput] = useState(\"\");\n\n  // create state to hold saved bookId values\n  const [savedBookIds, setSavedBookIds] = useState(getSavedBookIds());\n\n  const [saveBook] = useMutation(SAVE_BOOK);\n\n  // set up useEffect hook to save `savedBookIds` list to localStorage on component unmount\n  // learn more here: https://reactjs.org/docs/hooks-effect.html#effects-with-cleanup\n  useEffect(() => {\n    return () => saveBookIds(savedBookIds);\n  });\n\n  // create method to search for books and set state on form submit\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    if (!searchInput) {\n      return false;\n    }\n\n    try {\n      const response = await searchGoogleBooks(searchInput);\n\n      if (!response.ok) {\n        throw new Error(\"something went wrong!\");\n      }\n\n      const { items } = await response.json();\n\n      const bookData = items.map((book) => ({\n        bookId: book.id,\n        authors: book.volumeInfo.authors || [\"No author to display\"],\n        title: book.volumeInfo.title,\n        description: book.volumeInfo.description,\n        image: book.volumeInfo.imageLinks?.thumbnail || \"\",\n      }));\n\n      setSearchedBooks(bookData);\n      setSearchInput(\"\");\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  // create function to handle saving a book to our database\n  const handleSaveBook = async (bookId) => {\n    // find the book in `searchedBooks` state by the matching id\n    const bookToSave = searchedBooks.find((book) => book.bookId === bookId);\n\n    // get token\n    const token = Auth.loggedIn() ? Auth.getToken() : null;\n\n    if (!token) {\n      return false;\n    }\n\n    try {\n      const response = await saveBook(bookToSave, token);\n\n      if (!response.ok) {\n        throw new Error(\"something went wrong!\");\n      }\n\n      // if book successfully saves to user's account, save book id to state\n      setSavedBookIds([...savedBookIds, bookToSave.bookId]);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return (\n    <>\n      <Jumbotron fluid className=\"text-light bg-dark\">\n        <Container>\n          <h1>Search for Books!</h1>\n          <Form onSubmit={handleFormSubmit}>\n            <Form.Row>\n              <Col xs={12} md={8}>\n                <Form.Control\n                  name=\"searchInput\"\n                  value={searchInput}\n                  onChange={(e) => setSearchInput(e.target.value)}\n                  type=\"text\"\n                  size=\"lg\"\n                  placeholder=\"Search for a book\"\n                />\n              </Col>\n              <Col xs={12} md={4}>\n                <Button type=\"submit\" variant=\"success\" size=\"lg\">\n                  Submit Search\n                </Button>\n              </Col>\n            </Form.Row>\n          </Form>\n        </Container>\n      </Jumbotron>\n\n      <Container>\n        <h2>\n          {searchedBooks.length\n            ? `Viewing ${searchedBooks.length} results:`\n            : \"Search for a book to begin\"}\n        </h2>\n        <CardColumns>\n          {searchedBooks.map((book) => {\n            return (\n              <Card key={book.bookId} border=\"dark\">\n                {book.image ? (\n                  <Card.Img\n                    src={book.image}\n                    alt={`The cover for ${book.title}`}\n                    variant=\"top\"\n                  />\n                ) : null}\n                <Card.Body>\n                  <Card.Title>{book.title}</Card.Title>\n                  <p className=\"small\">Authors: {book.authors}</p>\n                  <Card.Text>{book.description}</Card.Text>\n                  {Auth.loggedIn() && (\n                    <Button\n                      disabled={savedBookIds?.some(\n                        (savedBookId) => savedBookId === book.bookId\n                      )}\n                      className=\"btn-block btn-info\"\n                      onClick={() => handleSaveBook(book.bookId)}\n                    >\n                      {savedBookIds?.some(\n                        (savedBookId) => savedBookId === book.bookId\n                      )\n                        ? \"This book has already been saved!\"\n                        : \"Save this Book!\"}\n                    </Button>\n                  )}\n                </Card.Body>\n              </Card>\n            );\n          })}\n        </CardColumns>\n      </Container>\n    </>\n  );\n};\n\nexport default SearchBooks;\n","// route to get logged in user's info (needs the token)\nexport const getMe = (token) => {\n  return fetch('/api/users/me', {\n    headers: {\n      'Content-Type': 'application/json',\n      authorization: `Bearer ${token}`,\n    },\n  });\n};\n\nexport const createUser = (userData) => {\n  return fetch('/api/users', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(userData),\n  });\n};\n\nexport const loginUser = (userData) => {\n  return fetch('/api/users/login', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(userData),\n  });\n};\n\n// save book data for a logged in user\nexport const saveBook = (bookData, token) => {\n  return fetch('/api/users', {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n      authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify(bookData),\n  });\n};\n\n// remove saved book data for a logged in user\nexport const deleteBook = (bookId, token) => {\n  return fetch(`/api/users/books/${bookId}`, {\n    method: 'DELETE',\n    headers: {\n      authorization: `Bearer ${token}`,\n    },\n  });\n};\n\n// make a search to google books api\n// https://www.googleapis.com/books/v1/volumes?q=harry+potter\nexport const searchGoogleBooks = (query) => {\n  return fetch(`https://www.googleapis.com/books/v1/volumes?q=${query}`);\n};\n","import {\n  ApolloClient,\n  ApolloProvider,\n  InMemoryCache,\n  createHttpLink,\n} from \"@apollo/client\";\nimport { setContext } from \"@apollo/client/link/context\";\nimport React from \"react\";\nimport { Route, BrowserRouter as Router, Routes } from \"react-router-dom\";\nimport Navbar from \"./components/Navbar\";\nimport SavedBooks from \"./pages/SavedBooks\";\nimport SearchBooks from \"./pages/SearchBooks\";\n\nconst httpLink = createHttpLink({\n  uri: \"/graphql\",\n});\n\nconst auhtlink = setContext((_, { headers }) => {\n  const token = localStorage.getItem(\"id_token\");\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${token}` : \"\",\n    },\n  };\n});\n\nconst client = new ApolloClient({\n  link: auhtlink.concat(httpLink),\n  cache: new InMemoryCache(),\n});\n\nfunction App() {\n  return (\n    <ApolloProvider client={client}>\n      <Router>\n        <>\n          <Navbar />\n          <Routes>\n            <Route path=\"/\" element={<SearchBooks />} />\n            <Route path=\"/saved\" element={<SavedBooks />} />\n            <Route\n              path=\"*\"\n              element={<h1 className=\"display-2\">Wrong page!</h1>}\n            />\n          </Routes>\n        </>\n      </Router>\n    </ApolloProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}